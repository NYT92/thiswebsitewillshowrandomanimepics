const saveimg = document.getElementById("saveimg"),
    refresh = document.getElementById("refresh"),
    rendered_img = document.getElementById("rendered_img"),
    form = document.getElementById("select_data_source"),
    item = document.getElementById("item_select"),
    waifu = "waifu",
    nekonsfw = "neko?nsfw=show",
    waifunsfw = "waifu?nsfw=show",
    maidnsfw = "maid?nsfw=show",
    yaoi = "yaoi",
    yuri = "yuri",
    maid = "maid",
    trap = "trap",
    kiss = "kiss",
    hug = "hug",
    neko = "neko";
let itemname = "";
$(document).ready(function () {
    let e = localStorage.getItem("itemname");
    $("#item_select").val(e),
        $("#rendered_img").attr("src", `${location.href + e}`),
        null === localStorage.getItem("itemname") && $("#rendered_img").attr("src", "waifu"),
        $("#saveimg").click(function () {
            alert("Hold to save it...");
        }),
        $("#refresh").click(function () {
            window.location.reload();
        }),
        $("#select_data_source").change(function (t) {
            t.preventDefault(), (e = document.getElementById("item_select").value);
            const s = $("select#item_select optgroup option:selected").val();
            localStorage.setItem("itemname", s),
                "waifunsfw" === s
                    ? (localStorage.setItem("itemname", "waifu?nsfw=show"), (e = "waifunsfw"), (rendered_img.src = `${waifunsfw}`))
                    : "nekonsfw" === s
                    ? (localStorage.setItem("itemname", "neko?nsfw=show"), (e = "nekonsfw"), (rendered_img.src = `${nekonsfw}`))
                    : "maidnsfw" === s
                    ? (localStorage.setItem("itemname", "maid?nsfw=show"), (e = "maidnsfw"), (rendered_img.src = `${maidnsfw}`))
                    : (rendered_img.src = `${location.href + s}`);
        });
});
